document.querySelector('.flash').innerHTML = ("<%= j render partial: 'shared/flash' %>");

<% if @review.persisted? %>
  document.querySelector('.reviews').innerHTML += '<%= j render @review %>';
  document.querySelector('.review_create_form').style.display = 'none';

  document.querySelector('.review_edit_btn').addEventListener('click', function(e){
      e.target.style.display = 'none';

      document.querySelector('.review_edit_form').style.display = 'block';

      var reviewId = e.target.dataset.review_id;      
      document.querySelector('#review_data_' + reviewId).style.display = 'none';
  })

  document.querySelector('.review_edit_cancel_btn').addEventListener('click', function(e){
    document.querySelector('.review_edit_form').style.display = 'none';

    editBtn.style.display = 'block';
  })

  var createBtn = document.querySelector('.comment_create_btn');

  createBtn.addEventListener('click', function(e){
    e.target.style.display = 'none';
    reviewId = e.target.dataset.review_id;

    document.querySelector('#comment_create_form_' + reviewId).style.display = 'block';
  })

  document.querySelector('.comment_create_cancel_btn').addEventListener('click', function(e){
    reviewId = e.target.dataset.review_id;
    document.querySelector('#comment_create_form_' + reviewId).style.display = 'none';

    createBtn.style.display = 'block';
  })
<% end %>