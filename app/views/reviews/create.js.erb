document.querySelector('.flash').innerHTML = ("<%= j render partial: 'shared/flash' %>");

<% if @review&.persisted? %>
  document.querySelector('.reviews').innerHTML += '<%= j render @review %>';
  document.querySelector('.review_create_form').style.display = 'none';

  document.querySelector('.review_edit_btn').addEventListener('click', function(e){
      e.target.style.display = 'none';

      document.querySelector('.review_edit_form').style.display = 'block';

      document.querySelector('#review_data_<%= @review.id %>').style.display = 'none';
  })

  document.querySelector('.review_edit_cancel_btn').addEventListener('click', function(){
    document.querySelector('.review_edit_form').style.display = 'none';

    document.querySelector('.review_edit_btn').style.display = 'block';
    document.querySelector('#review_data_<%= @review.id %>').style.display = 'block';
  })

  var createBtn = document.querySelector('#comment_create_btn_<%= @review.id %>');

  createBtn.addEventListener('click', function(e){
    e.target.style.display = 'none';

    document.querySelector('#comment_create_form_<%= @review.id %>').style.display = 'block';
  })

  document.querySelector('#comment_create_cancel_btn_<%= @review.id %>').addEventListener('click', function(){
    document.querySelector('#comment_create_form_<%= @review.id %>').style.display = 'none';

    createBtn.style.display = 'block';
  })

  document.querySelector('.game_rate').innerHTML = '<%= @game_stars_partial %>';
<% end %>