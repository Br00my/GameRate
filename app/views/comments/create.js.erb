document.querySelector('.flash').innerHTML = ("<%= j render partial: 'shared/flash' %>");

<% if @comment&.persisted? %>
  document.querySelector('#comments_<%= @comment.review.id %>').innerHTML += '<%= j render @comment %>';

  document.querySelector('#comment_create_form_<%= @comment.review.id %>').style.display = 'none';
  document.querySelector('#comment_create_btn_<%= @comment.review.id %>').style.display = 'block';

  document.querySelector('#comment_edit_btn_<%= @comment.id %>').addEventListener('click', function(e){
    e.target.style.display = 'none';

    var commentId = e.target.dataset.comment_id;
    document.querySelector('#comment_edit_form_' + commentId).style.display = 'block';
  })

  document.querySelector('#comment_edit_cancel_btn_<%= @comment.id %>').addEventListener('click', function(e){
    var commentId = editCancelBtn.dataset.comment_id;
    document.querySelector('#comment_edit_form_' + commentId).style.display = 'none';

    document.querySelector('#comment_edit_btn_' + commentId).style.display = 'block';
  })
<% end %>